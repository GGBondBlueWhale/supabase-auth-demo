<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>GSearch Token Center</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="app-body">
  <div class="bg-gradient"></div>

  <header class="top-bar glass">
    <div class="logo">GSearch Token Center</div>
    <div class="top-bar-right">
      <span id="current-user-email" class="user-email"></span>
      <button id="logout-btn" class="ghost-btn" style="display:none;">退出登录</button>
    </div>
  </header>

  <main class="main-container">

    <!-- 登录/注册区域 -->
    <section id="auth-section" class="auth-tabs-container">
      <div class="auth-tabs glass">
        <button id="tab-login" class="tab active">登录</button>
        <button id="tab-signup" class="tab">注册</button>
      </div>

      <div id="form-container">
        <form id="login-form" class="form card glass">
          <h2>登录</h2>
          <label>Email
            <input type="email" id="login-email" required />
          </label>
          <label>Password
            <input type="password" id="login-password" required />
          </label>
          <button type="submit" class="primary-btn">登录</button>
        </form>

        <form id="signup-form" class="form card glass" style="display:none;">
          <h2>注册</h2>
          <label>Email
            <input type="email" id="signup-email" required />
          </label>
          <label>Password
            <input type="password" id="signup-password" minlength="6" required />
          </label>
          <button type="submit" class="secondary-btn">注册新账号</button>
          <p class="hint">一个账号可以同时登录网页和 GSearch App，共享订阅。</p>
        </form>
      </div>
    </section>

    <!-- 已登录后的仪表盘 -->
    <section id="dashboard-section" class="dashboard" style="display:none;">
      <div class="card-row">
        <div class="card glass">
          <h2>订阅状态</h2>
          <p id="subscription-plan" class="big-value">—</p>
          <p id="subscription-expire" class="sub-text">到期时间：—</p>
          <p id="subscription-status" class="pill pill-gray">未订阅</p>
        </div>
        <div class="card glass">
          <h2>账号信息</h2>
          <p><strong>Email：</strong><span id="profile-email"></span></p>
          <p><strong>User ID：</strong><span id="profile-id"></span></p>
          <p class="hint">GSearch App 登录时会使用同一个账号。</p>
        </div>
      </div>

      <div class="card glass">
        <h2>CDKey 兑换续费</h2>
        <form id="redeem-form" class="form-inline">
          <input id="redeem-code-input" type="text" placeholder="输入兑换码，如 GSRCH-XXXX-XXXX" />
          <button type="submit" class="primary-btn">兑换</button>
        </form>
        <p id="redeem-status" class="status-text"></p>
      </div>

      <div class="card glass">
        <h2>使用说明</h2>
        <ul class="bullets">
          <li>每个 CDKey 只能使用一次，兑换后自动叠加到当前订阅。</li>
          <li>网页与 App 共用同一后端，续费后多端同步生效。</li>
          <li>如遇问题可以在 GSearch App 内反馈，或邮件联系开发者。</li>
        </ul>
      </div>
    </section>

    <div id="global-status" class="global-status"></div>
  </main>

  <script type="module" src="app.js"></script>
</body>
</html>
