<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>GSearch Token Center</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="app-body">
  <div class="bg-gradient"></div>

  <header class="top-bar glass">
    <div class="logo">GSearch Token Center</div>
    <div class="top-bar-right">
      <span id="current-user-email" class="user-email"></span>
      <button id="logout-btn" class="ghost-btn" style="display:none;">退出登录</button>
    </div>
  </header>

  <main class="main-container">

    <!-- 登录/注册区域 -->
    <section id="auth-section" class="auth-layout">
      <div class="auth-hero">
        <p class="capsule-label">安全 · 即时 · 多端同步</p>
        <h1>管理你的 GSearch 订阅</h1>
        <p>在一个地方完成登录、续费与账户管理，网页与 App 自动同步，随时掌握订阅状态。</p>
        <div class="highlights">
          <div class="highlight-item">🔒 双重加密传输，确保登录安全</div>
          <div class="highlight-item">⚡ 快速兑换 CDKey，订阅实时生效</div>
          <div class="highlight-item">📱 与 GSearch App 共用账号，免重复操作</div>
        </div>
      </div>

      <div class="auth-card glass">
        <div class="auth-header">
          <p class="eyebrow">ACCOUNT</p>
          <h2>欢迎回来</h2>
          <p class="muted">登录或注册后即可管理订阅与兑换码。</p>
        </div>

        <div class="auth-tabs">
          <button id="tab-login" class="tab auth-tab active" data-target="login">登录</button>
          <button id="tab-signup" class="tab auth-tab" data-target="signup">注册</button>
        </div>

        <div class="auth-forms">
          <form id="login-form" class="form auth-form active">
            <label>Email
              <input type="email" id="login-email" placeholder="you@example.com" required />
            </label>
            <label>Password
              <input type="password" id="login-password" placeholder="••••••••" required />
            </label>
            <button type="submit" class="primary-btn">登录</button>
          </form>

          <form id="signup-form" class="form auth-form">
            <label>Email
              <input type="email" id="signup-email" placeholder="you@example.com" required />
            </label>
            <label>Password
              <input type="password" id="signup-password" minlength="6" placeholder="至少 6 位密码" required />
            </label>
            <button type="submit" class="secondary-btn">注册新账号</button>
            <p class="hint">账号可同时登录网页和 GSearch App，订阅自动同步。</p>
          </form>
        </div>
      </div>
    </section>

    <!-- 已登录后的仪表盘 -->
    <section id="dashboard-section" class="dashboard" style="display:none;">
      <div class="hero-banner flex-between">
        <div>
          <p class="capsule-label">订阅中心</p>
          <h1>欢迎回来</h1>
          <p>查看订阅状态、账号信息并快速兑换续费。</p>
        </div>
        <div class="status-chip" id="subscription-status">未订阅</div>
      </div>

      <div class="card-row">
        <div class="card glass">
          <h2>订阅状态</h2>
          <p id="subscription-plan" class="metric-value">—</p>
          <p id="subscription-expire" class="sub-text">到期时间：—</p>
          <p class="sub-text">订阅实时同步到 GSearch App。</p>
        </div>
        <div class="card glass">
          <h2>账号信息</h2>
          <ul class="info-list">
            <li><span class="bullet-dot"></span><strong>Email：</strong><span id="profile-email"></span></li>
            <li><span class="bullet-dot"></span><strong>User ID：</strong><span id="profile-id"></span></li>
            <li><span class="bullet-dot"></span><span class="sub-text">使用同一账号登录 App 与网页。</span></li>
          </ul>
        </div>
      </div>

      <div class="card glass action-card">
        <div class="flex-between">
          <div>
            <p class="capsule-label">快速兑换</p>
            <h2>CDKey 兑换续费</h2>
            <p class="sub-text">输入兑换码后立即延长订阅时长。</p>
          </div>
        </div>
        <form id="redeem-form" class="form-inline">
          <input id="redeem-code-input" type="text" placeholder="输入兑换码，如 GSRCH-XXXX-XXXX" />
          <button type="submit" class="primary-btn">兑换</button>
        </form>
        <p id="redeem-status" class="status-text"></p>
      </div>

      <div class="card glass">
        <h2>使用说明</h2>
        <ul class="bullets">
          <li>每个 CDKey 只能使用一次，兑换后自动叠加到当前订阅。</li>
          <li>网页与 App 共用同一后端，续费后多端同步生效。</li>
          <li>如遇问题可以在 GSearch App 内反馈，或邮件联系开发者。</li>
        </ul>
      </div>
    </section>

    <div id="global-status" class="global-status"></div>
  </main>

  <script type="module" src="app.js"></script>
</body>
</html>
